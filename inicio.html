<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stay focused and trust the process</title>
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
  <!-- Fuente Montserrat desde Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <!-- Font Awesome para iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Firebase (para notas en l√≠nea) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  
  <style>
    /* Reset b√°sico */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%;
      font-family: 'Montserrat', sans-serif;
      color: #fff; background: #000; overflow: hidden;
    }
    body {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      transition: background-image 1s ease-in-out;
    }
    .container {
      height: 100vh;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      background-color: rgba(0, 0, 0, 0.45);
      padding: 1rem; opacity: 0;
      animation: fadeIn 1s ease-in-out forwards;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    header { text-align: center; margin-bottom: 1rem; }
    h1 {
      font-size: 2rem; font-weight: 600;
      text-transform: uppercase; letter-spacing: 2px;
      margin-bottom: 0.5rem;
    }
    .subtitle { font-size: 1rem; color: #ccc; margin-bottom: 1.5rem; }
    .search-container {
      display: flex; margin-bottom: 1.5rem;
      width: 80%; max-width: 600px;
    }
    .search-input {
      flex: 1; padding: 10px;
      border-radius: 5px 0 0 5px; border: none;
      background: rgba(255, 255, 255, 0.9); color: #333;
    }
    .search-buttons { display: flex; }
    .search-button {
      padding: 10px 15px; border: none;
      background: #4285f4; color: white; cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
    }
    .search-button:first-child { border-radius: 0; }
    .search-button:last-child {
      border-radius: 0 5px 5px 0; background: #19a971;
    }
    .search-button:hover {
      background-color: #3367d6; transform: translateY(-2px);
    }
    .search-button:last-child:hover { background-color: #158f60; }
    main { width: 90%; max-width: 1200px; flex: 1; display: flex; gap: 2rem; }
    .column {
      flex: 1; display: flex; flex-direction: column;
      gap: 1.5rem; opacity: 0;
      animation: slideIn 0.8s ease-out forwards;
    }
    .column:nth-child(1) { animation-delay: 0.2s; }
    .column:nth-child(2) { animation-delay: 0.4s; }
    .column:nth-child(3) { animation-delay: 0.6s; }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .section {
      background-color: rgba(0,0,0,0.4);
      padding: 1rem; border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      backdrop-filter: blur(5px);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    .section h2 {
      font-size: 1.2rem; font-weight: 600;
      margin-bottom: 0.5rem; text-transform: uppercase;
      letter-spacing: 1px; border-bottom: 1px solid #666;
      padding-bottom: 0.25rem; display: flex;
      align-items: center; gap: 0.5rem;
    }
    .section ul { list-style: none; padding-left: 0; }
    .section li { margin: 0.5rem 0; }
    a {
      text-decoration: none; color: #fff;
      font-weight: 400; font-size: 0.95rem;
      transition: color 0.3s, transform 0.3s, padding-left 0.3s;
      display: flex; align-items: center; gap: 0.5rem;
    }
    a:hover { color: #66eaff; transform: translateX(5px); padding-left: 2px; }
    /* Secciones espec√≠ficas */
    /* Columna 1: D√çA, Redes, DRIVE */
    /* (Se reutilizan los estilos de .section para cada recuadro) */
    /* Columna 2: Calendario y Notas en l√≠nea */
    #calendar { margin-bottom: 1rem; }
    #calendar table {
      width: 100%; border-collapse: collapse; text-align: center;
    }
    #calendar th, #calendar td {
      border: 1px solid #444; padding: 5px; font-size: 0.9rem;
    }
    #calendar th { background-color: rgba(255,255,255,0.2); }
    .online-notes-textarea {
      width: 100%; height: 80px;
      padding: 8px; background-color: rgba(255,255,255,0.9);
      border: none; border-radius: 5px; resize: none;
      color: #333;
    }
    /* Columna 3: Pomodoro y Clima */
    .pomodoro-container { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; }
    .timer-display { font-size: 1.5rem; font-weight: 600; margin: 5px 0; }
    .timer-buttons { display: flex; gap: 0.5rem; }
    .timer-button {
      padding: 5px 10px; border: none; border-radius: 3px;
      cursor: pointer; transition: background-color 0.3s;
    }
    .timer-button.start { background-color: #28a745; color: white; }
    .timer-button.start:hover { background-color: #218838; }
    .timer-button.stop { background-color: #ffc107; color: #333; }
    .timer-button.stop:hover { background-color: #e0a800; }
    .timer-button.reset { background-color: #dc3545; color: white; }
    .timer-button.reset:hover { background-color: #c82333; }
    .weather-container {
      display: flex; flex-direction: column; align-items: center;
      gap: 0.5rem; padding: 0.5rem;
    }
    .weather-city-selector {
      width: 100%; padding: 5px; border-radius: 3px;
      border: none; background-color: rgba(255,255,255,0.9);
      color: #333; margin-bottom: 5px;
    }
    .weather-info { display: flex; align-items: center; gap: 0.5rem; }
    .weather-temp { font-size: 1.2rem; font-weight: 600; }
    .weather-icon { font-size: 1.5rem; }
    .weather-desc { font-size: 0.9rem; color: #ddd; }
    .weather-tomorrow { font-size: 0.9rem; text-align: center; margin-top: 5px; color: #ccc; }
    .weather-link { font-size: 0.8rem; margin-top: 5px; color: #aaa; transition: color 0.3s; }
    .weather-link:hover { color: #66eaff; }
    .footer { margin-top: 1rem; text-align: center; font-size: 0.8rem; color: #aaa; }
    @media (max-width: 900px) {
      body { overflow: auto; }
      main { flex-direction: column; align-items: center; gap: 1rem; }
      h1 { font-size: 1.7rem; }
      .section h2 { font-size: 1.1rem; }
      a { font-size: 0.9rem; }
      .search-container { width: 95%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Stay focused and trust the process</h1>
      <p class="subtitle">Si una tarea toma menos de 2 minutos, hazla inmediatamente. Done is better than perfect.</p>
    </header>

    <div class="search-container">
      <input type="text" id="search-input" class="search-input" placeholder="Buscar en..." aria-label="Campo de b√∫squeda">
      <div class="search-buttons">
        <button class="search-button" id="google-search" title="Buscar en Google" aria-label="Buscar en Google">
          <i class="fab fa-google" aria-hidden="true"></i>
        </button>
        <button class="search-button" id="chatgpt-search" title="Buscar con ChatGPT" aria-label="Buscar con ChatGPT">
          <i class="fas fa-robot" aria-hidden="true"></i>
        </button>
      </div>
    </div>

    <main>
      <!-- Columna 1: D√çA, Redes, DRIVE -->
      <div class="column">
        <div class="section">
          <h2><i class="fas fa-calendar-day" aria-hidden="true"></i> D√çA</h2>
          <ul>
            <li><a href="https://www.alibaba.com/" target="_blank"><i class="fas fa-shopping-cart" aria-hidden="true"></i> Alibaba</a></li>
            <li><a href="https://www.icloud.com/" target="_blank"><i class="fab fa-apple" aria-hidden="true"></i> iCloud</a></li>
            <li><a href="https://chat.openai.com" target="_blank"><i class="fas fa-comment-dots" aria-hidden="true"></i> ChatGPT</a></li>
            <li><a href="https://grok.com/" target="_blank"><i class="fab fa-xing" aria-hidden="true"></i> Grok (X AI)</a></li>
            <li><a href="https://translate.google.com/" target="_blank"><i class="fas fa-language" aria-hidden="true"></i> Traductor</a></li>
            <li><a href="https://app.holded.com/" target="_blank"><i class="fas fa-folder-open" aria-hidden="true"></i> Holded</a></li>
          </ul>
        </div>
        <div class="section">
          <h2><i class="fas fa-network-wired" aria-hidden="true"></i> Redes</h2>
          <ul>
            <li><a href="https://x.com/home" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i> X (Twitter)</a></li>
            <li><a href="https://www.youtube.com/" target="_blank"><i class="fab fa-youtube" aria-hidden="true"></i> YouTube</a></li>
            <li><a href="https://web.whatsapp.com/" target="_blank"><i class="fab fa-whatsapp" aria-hidden="true"></i> Whatsapp</a></li>
            <li><a href="https://web.telegram.org/" target="_blank"><i class="fab fa-telegram" aria-hidden="true"></i> Telegram</a></li>
            <li><a href="https://www.netflix.com/" target="_blank"><i class="fas fa-tv" aria-hidden="true"></i> Netflix</a></li>
            <li><a href="https://www.primevideo.com/" target="_blank"><i class="fab fa-amazon" aria-hidden="true"></i> Amazon Prime Video</a></li>
          </ul>
        </div>
        <div class="section">
          <h2><i class="fab fa-google-drive" aria-hidden="true"></i> Drive</h2>
          <ul>
            <li><a href="https://drive.google.com/drive/u/0/my-drive" target="_blank"><i class="fas fa-hdd" aria-hidden="true"></i> Mi Unidad (Drive)</a></li>
            <li><a href="https://accounts.google.com/b/0/AddMailService" target="_blank"><i class="fas fa-envelope" aria-hidden="true"></i> Gmail</a></li>
            <li><a href="https://docs.google.com/document/u/0/" target="_blank"><i class="fas fa-file-alt" aria-hidden="true"></i> Documentos</a></li>
            <li><a href="https://docs.google.com/spreadsheets/u/0/" target="_blank"><i class="fas fa-table" aria-hidden="true"></i> Spreadsheets</a></li>
          </ul>
        </div>
      </div>

      <!-- Columna 2: Calendario y Notas en l√≠nea (online) -->
      <div class="column">
        <div class="section" id="calendar-section">
          <h2><i class="fas fa-calendar-alt" aria-hidden="true"></i> Calendario</h2>
          <div id="calendar"></div>
        </div>
        <div class="section">
          <h2><i class="fas fa-pencil-alt" aria-hidden="true"></i> Notas en l√≠nea</h2>
          <textarea id="online-notes" class="online-notes-textarea" placeholder="Escribe tus notas aqu√≠..."></textarea>
        </div>
      </div>

      <!-- Columna 3: Pomodoro y Clima -->
      <div class="column">
        <div class="section">
          <!-- Recuadro de Pomodoro sin t√≠tulo -->
          <div class="pomodoro-container">
            <div class="timer-display" id="timer-display">25:00</div>
            <div class="timer-buttons">
              <button class="timer-button start" id="timer-start"><i class="fas fa-play" aria-hidden="true"></i> Iniciar</button>
              <button class="timer-button stop" id="timer-stop" disabled><i class="fas fa-pause" aria-hidden="true"></i> Pausa</button>
              <button class="timer-button reset" id="timer-reset"><i class="fas fa-redo" aria-hidden="true"></i> Reset</button>
            </div>
          </div>
        </div>
        <div class="section">
          <h2><i class="fas fa-cloud-sun" aria-hidden="true"></i> Clima</h2>
          <div class="weather-container">
            <select id="weather-city" class="weather-city-selector">
              <option value="madrid">Madrid</option>
              <option value="elche">Elche</option>
              <option value="albacete">Albacete</option>
              <option value="leon">Le√≥n</option>
              <option value="candanchu">Candanch√∫</option>
            </select>
            <div class="weather-info">
              <div class="weather-icon" id="weather-icon"><i class="fas fa-sync fa-spin" aria-hidden="true"></i></div>
              <div class="weather-temp" id="weather-temp">--¬∞C</div>
            </div>
            <div class="weather-desc" id="weather-desc">Cargando...</div>
            <div class="weather-tomorrow" id="weather-tomorrow">Previsi√≥n ma√±ana: Cargando...</div>
            <a href="#" target="_blank" class="weather-link" id="weather-link">
              M√°s detalles <i class="fas fa-external-link-alt" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      ¬© 2025 - P√°gina de inicio TriTonRuleS
    </footer>
  </div>

  <script>
    // ---------------------------
    // Calendario mensual din√°mico
    // ---------------------------
    function generateCalendar() {
      const calendarDiv = document.getElementById('calendar');
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth(); // 0-indexado
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      
      // Empezamos el lunes, obtener el d√≠a de la semana del primer d√≠a (0=domingo, 1=lunes,...)
      let startDay = firstDay.getDay(); 
      startDay = startDay === 0 ? 7 : startDay; // Si es domingo, lo tratamos como 7

      let html = '<table>';
      // Encabezados de d√≠as
      const daysOfWeek = ['Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b', 'Dom'];
      html += '<tr>';
      for (const day of daysOfWeek) {
        html += '<th>' + day + '</th>';
      }
      html += '</tr><tr>';
      
      // Espacios vac√≠os antes del primer d√≠a
      for (let i = 1; i < startDay; i++) {
        html += '<td></td>';
      }
      
      // D√≠as del mes
      let dayCount = startDay;
      for (let d = 1; d <= daysInMonth; d++) {
        html += '<td>' + d + '</td>';
        if (dayCount % 7 === 0 && d !== daysInMonth) {
          html += '</tr><tr>';
        }
        dayCount++;
      }
      html += '</tr></table>';
      calendarDiv.innerHTML = html;
    }
    
    // ---------------------------
    // Notas en l√≠nea con Firebase Firestore
    // ---------------------------
    // Configuraci√≥n de Firebase (reemplaza con tus propios datos)
    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "TU_PROJECT_ID.firebaseapp.com",
      projectId: "TU_PROJECT_ID",
      storageBucket: "TU_PROJECT_ID.appspot.com",
      messagingSenderId: "TU_SENDER_ID",
      appId: "TU_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    
    function setupOnlineNotes() {
      const notesTextarea = document.getElementById('online-notes');
      const docRef = db.collection('notes').doc('onlineNotes');
      
      // Escuchar cambios en tiempo real
      docRef.onSnapshot((doc) => {
        if (doc.exists) {
          const data = doc.data();
          if (data.text !== notesTextarea.value) {
            notesTextarea.value = data.text;
          }
        } else {
          // Si no existe, crearlo con texto vac√≠o
          docRef.set({ text: "" });
        }
      });
      
      // Actualizar la nota en Firestore al modificar (con debounce)
      let timeout;
      notesTextarea.addEventListener('input', () => {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          docRef.set({ text: notesTextarea.value });
        }, 500);
      });
    }
    
    // ---------------------------
    // Relojes mundiales
    // ---------------------------
    function updateTime() {
      const now = new Date();
      const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
      document.getElementById("date-full") && (document.getElementById("date-full").textContent = now.toLocaleDateString("es-ES", options));
      updateWorldClocks();
    }
    
    function updateWorldClocks() {
      const madridTime = new Date().toLocaleTimeString("es-ES", { timeZone: "Europe/Madrid", hour12: false });
      const shenzhenTime = new Date().toLocaleTimeString("es-ES", { timeZone: "Asia/Shanghai", hour12: false });
      const sanDiegoTime = new Date().toLocaleTimeString("es-ES", { timeZone: "America/Los_Angeles", hour12: false });
      const newYorkTime = new Date().toLocaleTimeString("es-ES", { timeZone: "America/New_York", hour12: false });
      document.getElementById('world-clocks') && (document.getElementById('world-clocks').innerHTML =
        `<div>Madrid: ${madridTime}</div>
         <div>Shenzhen: ${shenzhenTime}</div>
         <div>San Diego: ${sanDiegoTime}</div>
         <div>New York: ${newYorkTime}</div>`);
    }
    
    // ---------------------------
    // Fondo aleatorio
    // ---------------------------
    function preloadImage(url) {
      const img = new Image();
      img.src = url;
      return img;
    }
    
    function setRandomBackground() {
      const imageUrl = `https://picsum.photos/1920/1080?random=${new Date().getTime()}`;
      const img = preloadImage(imageUrl);
      img.onload = function() {
        document.body.style.backgroundImage = `url('${imageUrl}')`;
      };
    }
    
    // ---------------------------
    // Buscador: abre b√∫squeda en Google y ChatGPT
    // ---------------------------
    function setupSearch() {
      const searchInput = document.getElementById('search-input');
      const googleButton = document.getElementById('google-search');
      const chatgptButton = document.getElementById('chatgpt-search');
  
      googleButton.addEventListener('click', () => {
        const query = searchInput.value.trim();
        if (query) {
          window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
        }
      });
  
      chatgptButton.addEventListener('click', () => {
        const query = searchInput.value.trim();
        if (query) {
          window.open(`https://chat.openai.com/?q=${encodeURIComponent(query)}`, '_blank');
        }
      });
  
      searchInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const query = searchInput.value.trim();
          if (query) {
            window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
            window.open(`https://chat.openai.com/?q=${encodeURIComponent(query)}`, '_blank');
          }
        }
      });
    }
    
    // ---------------------------
    // Widget del clima con Open‚ÄëMeteo
    // ---------------------------
    function setupWeather() {
      const citySelector = document.getElementById('weather-city');
      const weatherLink = document.getElementById('weather-link');
      const cityCoords = {
        madrid: { lat: 40.4168, lon: -3.7038 },
        elche: { lat: 38.2682, lon: -0.7016 },
        albacete: { lat: 38.9943, lon: -1.8561 },
        leon: { lat: 42.5987, lon: -5.5671 },
        candanchu: { lat: 42.6169, lon: 0.7594 }
      };
  
      function mapWeatherCode(code) {
        if (code === 0) return { desc: "Despejado", icon: "sun" };
        if ([1, 2, 3].includes(code)) return { desc: "Parcialmente nublado", icon: "cloud" };
        if ([45, 48].includes(code)) return { desc: "Con niebla", icon: "smog" };
        if ([51, 53, 55].includes(code)) return { desc: "Llovizna", icon: "cloud-rain" };
        if ([61, 63, 65].includes(code)) return { desc: "Lluvia", icon: "cloud-showers-heavy" };
        if ([66, 67].includes(code)) return { desc: "Lluvia helada", icon: "snowflake" };
        if ([71, 73, 75].includes(code)) return { desc: "Nieve", icon: "snowflake" };
        if ([80, 81, 82].includes(code)) return { desc: "Chubascos", icon: "cloud-showers-heavy" };
        if ([95, 96, 99].includes(code)) return { desc: "Tormenta", icon: "bolt" };
        return { desc: "Desconocido", icon: "question" };
      }
  
      function updateWeather() {
        const selectedCity = citySelector.value;
        const coords = cityCoords[selectedCity];
        if (!coords) return;
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${coords.lat}&longitude=${coords.lon}&current_weather=true&daily=temperature_2m_max,temperature_2m_min,weathercode&timezone=auto`;
        fetch(url)
          .then(response => response.json())
          .then(data => {
            const current = data.current_weather;
            const currentMap = mapWeatherCode(current.weathercode);
            document.getElementById('weather-temp').textContent = `${current.temperature}¬∞C`;
            document.getElementById('weather-desc').textContent = currentMap.desc;
            document.getElementById('weather-icon').innerHTML = `<i class="fas fa-${currentMap.icon}"></i>`;
            const daily = data.daily;
            if (daily && daily.time && daily.time.length > 1) {
              const minTemp = daily.temperature_2m_min[1];
              const maxTemp = daily.temperature_2m_max[1];
              const weatherCodeTomorrow = daily.weathercode[1];
              const tomorrowMap = mapWeatherCode(weatherCodeTomorrow);
              document.getElementById('weather-tomorrow').textContent = `Previsi√≥n ma√±ana: ${minTemp}¬∞C - ${maxTemp}¬∞C, ${tomorrowMap.desc}`;
            } else {
              document.getElementById('weather-tomorrow').textContent = "Previsi√≥n ma√±ana: Sin datos";
            }
            weatherLink.href = `https://open-meteo.com/`;
          })
          .catch(err => {
            console.error(err);
            document.getElementById('weather-desc').textContent = "Error al obtener datos";
            document.getElementById('weather-tomorrow').textContent = "Previsi√≥n ma√±ana: Error";
          });
      }
  
      updateWeather();
      citySelector.addEventListener('change', () => {
        updateWeather();
        localStorage.setItem('selectedCity', citySelector.value);
      });
  
      if (localStorage.getItem('selectedCity')) {
        citySelector.value = localStorage.getItem('selectedCity');
        updateWeather();
      }
    }
    
    // ---------------------------
    // Temporizador Pomodoro con sonido en bucle
    // ---------------------------
    function setupPomodoro() {
      const timerDisplay = document.getElementById('timer-display');
      const startButton = document.getElementById('timer-start');
      const stopButton = document.getElementById('timer-stop');
      const resetButton = document.getElementById('timer-reset');
      let timer;
      let minutes = 25;
      let seconds = 0;
      let isRunning = false;
      
      // Crear objeto Audio con el nuevo sonido, en bucle
      const alarmSound = new Audio('https://actions.google.com/sounds/v1/alarms/bugle_tune.ogg');
      alarmSound.loop = true;
  
      function updateDisplay() {
        timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
      
      function startTimer() {
        if (!isRunning) {
          isRunning = true;
          startButton.disabled = true;
          stopButton.disabled = false;
          timer = setInterval(() => {
            if (seconds === 0) {
              if (minutes === 0) {
                clearInterval(timer);
                isRunning = false;
                alarmSound.play();
                if (Notification.permission === 'granted') {
                  new Notification('Pomodoro Timer', {
                    body: '¬°Tiempo completado!',
                    icon: 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚è∞</text></svg>'
                  });
                }
                startButton.disabled = false;
                stopButton.disabled = true;
                return;
              }
              minutes--;
              seconds = 59;
            } else {
              seconds--;
            }
            updateDisplay();
          }, 1000);
        }
      }
      
      function stopTimer() {
        clearInterval(timer);
        isRunning = false;
        startButton.disabled = false;
        stopButton.disabled = true;
      }
      
      function resetTimer() {
        clearInterval(timer);
        isRunning = false;
        minutes = 25;
        seconds = 0;
        updateDisplay();
        startButton.disabled = false;
        stopButton.disabled = true;
        // Detener el sonido si est√° sonando
        alarmSound.pause();
        alarmSound.currentTime = 0;
      }
      
      startButton.addEventListener('click', startTimer);
      stopButton.addEventListener('click', stopTimer);
      resetButton.addEventListener('click', resetTimer);
      
      if (Notification.permission !== 'granted' && Notification.permission !== 'denied') {
        Notification.requestPermission();
      }
    }
    
    // ---------------------------
    // Inicializaci√≥n de componentes al cargar
    // ---------------------------
    document.addEventListener('DOMContentLoaded', function() {
      updateTime();
      setInterval(updateTime, 1000);
      setRandomBackground();
      setInterval(setRandomBackground, 300000);
      setupSearch();
      setupWeather();
      setupPomodoro();
      generateCalendar();
      setupOnlineNotes();
    });
  </script>
</body>
</html>
